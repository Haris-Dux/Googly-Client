import{r as i,j as e,$ as E,f as d,h as U,i as z,k as B,l as O,m as ne,n as oe,o as ce,p as de,_ as me,q as xe,a as H,u as ge,b as j,s as h,t as fe,v as S,w as he,x as je,d as C,y as ve,z as _,A as pe,C as A,D as be,E as we,H as ue,J as Ne,L,F as ye,I as P,T as Re}from"./index-CaI_p2JW.js";import{B as $e}from"./BestSeller-6ILzTuGm.js";/* empty css             *//**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),M=(...s)=>s.filter((l,t,r)=>!!l&&r.indexOf(l)===t).join(" ");/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var De={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=i.forwardRef(({color:s="currentColor",size:l=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:c="",children:o,iconNode:N,...y},g)=>i.createElement("svg",{ref:g,...De,width:l,height:l,stroke:s,strokeWidth:r?Number(t)*24/Number(l):t,className:M("lucide",c),...y},[...N.map(([v,x])=>i.createElement(v,x)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=(s,l)=>{const t=i.forwardRef(({className:r,...c},o)=>i.createElement(ke,{ref:o,iconNode:l,className:M(`lucide-${Ce(s)}`,r),...c}));return t.displayName=`${s}`,t};/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=Fe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Se=oe,_e=ce,Ae=ne,Le=z,W=i.forwardRef(({className:s,...l},t)=>e.jsx(E,{ref:t,className:d("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...l}));W.displayName=E.displayName;const Y=i.forwardRef(({className:s,children:l,...t},r)=>e.jsxs(Ae,{children:[e.jsx(W,{}),e.jsxs(U,{ref:r,className:d("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...t,children:[l,e.jsxs(z,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(Ie,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Y.displayName=U.displayName;const X=({className:s,...l})=>e.jsx("div",{className:d("flex flex-col space-y-1.5 text-center sm:text-left",s),...l});X.displayName="DialogHeader";const q=({className:s,...l})=>e.jsx("div",{className:d("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...l});q.displayName="DialogFooter";const G=i.forwardRef(({className:s,...l},t)=>e.jsx(B,{ref:t,className:d("text-lg font-semibold leading-none tracking-tight",s),...l}));G.displayName=B.displayName;const Pe=i.forwardRef(({className:s,...l},t)=>e.jsx(O,{ref:t,className:d("text-sm text-muted-foreground",s),...l}));Pe.displayName=O.displayName;const Te=i.forwardRef(({className:s,type:l,...t},r)=>e.jsx("input",{type:l,className:d("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:r,...t}));Te.displayName="Input";const Ee=i.forwardRef((s,l)=>i.createElement(de.label,me({},s,{ref:l,onMouseDown:t=>{var r;(r=s.onMouseDown)===null||r===void 0||r.call(s,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault()}}))),J=Ee,Ue=xe("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),K=i.forwardRef(({className:s,...l},t)=>e.jsx(J,{ref:t,className:d(Ue(),s),...l}));K.displayName=J.displayName;const ze=i.forwardRef(({className:s,...l},t)=>e.jsx("textarea",{className:d("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:t,...l}));ze.displayName="Textarea";const T=({rating:s})=>{const l=[];for(let t=0;t<s;t++)l.push(e.jsx(C,{size:18,className:"mx-0.5 text-[#FFC209]"},t));return e.jsx("div",{className:"flex",children:l})},Be=({product:s,id:l})=>{var F;const t=H(),r=ge(),c=l,[o,N]=i.useState(),[y,g]=i.useState(null);i.useEffect(()=>{var a,n;(n=(a=s==null?void 0:s.images)==null?void 0:a.primary)!=null&&n.downloadURL&&(g(null),g(s.images.primary.downloadURL))},[s]);const v=a=>{g(a)},{primary:x,...p}=(s==null?void 0:s.images)||{},R=j(a=>a.auth.user),D=(F=R==null?void 0:R.user)==null?void 0:F.id,[f,$]=i.useState({review:"",rating:1}),[m,b]=i.useState({review:"",rating:1}),Z=a=>{N(a);const n=w.find(u=>u.id===a);n&&b({review:n.review,rating:n.rating})},w=j(a=>a.reviews.allReviews),Q=j(a=>a.reviews.loading),V=()=>{s&&(t(ve(s)),r("/shop"),window.scrollTo({top:0,behavior:"smooth"}),_.success("Item Added to Cart"))},[k,ee]=i.useState(),se=a=>{ee(a),b({...m,rating:a})};i.useEffect(()=>{t(h(l))},[]);const ae=a=>{$(n=>({...n,rating:a}))},te=()=>{const a=l;if(!f.review||f.rating===0){_.error("Please leave a review to rate the product");return}t(pe({productID:a,userID:D,...f})).then(n=>{n.payload.message==="Review created successfully"&&t(h(l))}),$({review:"",rating:1})},le=(a,n)=>{const u=a;if(k!==n){const I={id:u,...m};I.rating=k,t(A(I)).then(()=>{t(h(c))})}else t(A({id:u,...m})).then(()=>{t(h(c))}),b({review:"",rating:1})},ie=a=>{b({...m,review:a.target.value})},re=a=>{t(be(a)).then(n=>{n.payload.message==="Review deleted successfully"&&t(h(c))})};return e.jsx(e.Fragment,{children:e.jsxs(Se,{children:[e.jsx("div",{className:"pt-6 pb-10 w-full",children:e.jsx("div",{className:"px-4 xl:px-0 max-w-5xl xl:max-w-6xl xxl:max-w-7xl mx-auto",children:e.jsx("div",{className:"min-h-[70vh]",children:e.jsxs("div",{children:[e.jsxs("div",{className:"py-10 xl:pt-16 xl:pb-6 grid items-start grid-cols-1 lg:grid-cols-2 gap-5 xl:gap-6",children:[e.jsxs("div",{className:"w-full sm:flex-row-reverse sm:flex justify-center  gap-2",children:[e.jsx("div",{className:"img_cont",children:e.jsx("img",{src:y,alt:"Product",className:"w-full h-full sm:h-[28rem] sm:w-[28rem] rounded object-cover border border-gray-300"})}),e.jsxs("div",{className:"mt-3 sm:space-y-3 w-[3.5rem] sm:w-[4.5rem] max-sm:flex sm:flex-col max-sm:mb-4 max-sm:gap-4",children:[x&&e.jsx("img",{src:x.downloadURL,alt:x.name,className:"w-full h-16 sm:h-20 object-cover cursor-pointer rounded-sm border border-gray-300",onClick:()=>v(x.downloadURL)}),Object.keys(p).map(a=>e.jsx("img",{src:p[a].downloadURL,alt:p[a].name,className:"w-full h-16 sm:h-20 object-cover cursor-pointer rounded-sm border border-gray-300",onClick:()=>v(p[a].downloadURL)},a))]})]}),e.jsx("div",{className:"px-0 sm:px-10 lg:px-0",children:e.jsxs("div",{className:"content_side pt-5",children:[e.jsx("h2",{className:"text-4xl font-medium text-gray-800",children:s==null?void 0:s.name}),e.jsx("div",{className:"flex flex-wrap items-center gap-4 mt-4",children:s&&s.price!==(s==null?void 0:s.sale_price)?e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:`${s!=null&&s.sale_price&&(s==null?void 0:s.sale_price)>0?"text-gray-500 text-lg line-through":"text-gray-500 text-lg"}`,children:["Rs. ",s==null?void 0:s.price]}),s!=null&&s.sale_price&&(s==null?void 0:s.sale_price)>0?e.jsxs("p",{className:"text-gray-800 text-2xl font-bold",children:["Rs. ",s==null?void 0:s.sale_price]}):""]}):e.jsxs("p",{className:"text-gray-800 text-2xl font-bold",children:["Rs. ",s==null?void 0:s.price]})}),e.jsxs("div",{className:"mt-4",children:[s&&e.jsxs("div",{className:"flex items-center mt-4",children:[s.averageRating===0?"No Ratings":e.jsx(T,{rating:s.averageRating}),e.jsxs("span",{className:"ml-2 text-sm text-gray-500",children:["(",s.averageRating,")"]})]}),e.jsx("div",{className:"mt-4 pl-0 text-md text-gray-800",children:e.jsx("p",{children:s==null?void 0:s.description})})]}),e.jsxs("div",{className:"details_box py-6",children:[e.jsxs("div",{className:"py-0.5 details flex justify-start items-center font-semibold",children:[e.jsx("h3",{className:"name w-40",children:"Product Code"}),e.jsx("h3",{className:"name w-full",children:s==null?void 0:s.product_code})]}),e.jsxs("div",{className:"py-0.5 details flex justify-start items-center font-semibold",children:[e.jsx("h3",{className:"name w-40",children:"Category"}),e.jsx("h3",{className:"name w-full",children:s==null?void 0:s.category})]})]}),e.jsx("button",{onClick:V,className:"w-full mt-4 flex items-center text-lg font-medium justify-center gap-2 px-4 py-3 hover:bg-black bg-[#252525] text-white",type:"button",children:"Add To Cart"})]})})]}),e.jsx("div",{className:"mt-10 pb-5 max-w-5xl xl:max-w-6xl xxl:max-w-7xl mx-auto",children:e.jsx("div",{className:"mt-8",children:e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mt-6 all_reviews",children:[e.jsx("div",{className:"mb-6 reviews_headers",children:w.length>0?e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl text-gray-800 text-center font-semibold",children:"Weâ€™re feeling the love"}),e.jsxs("h2",{className:"mt-2 text-xl text-gray-600 text-center font-semibold",children:["Reviews"," ",e.jsxs("span",{className:"text-md",children:["(",w.length,")"]})]})]}):e.jsx("h2",{className:"text-2xl text-gray-800 text-center font-semibold",children:"No Reviews"})}),Q?e.jsx("div",{className:"flex justify-center mt-10",children:e.jsx(fe,{type:"ball-beat",active:!0})}):e.jsx(e.Fragment,{children:w.map((a,n)=>e.jsxs("div",{className:"mt-3 px-6 py-3 lg:py-4 rounded-lg border border-gray-300 bg-[#f6f6f6] all_reviews hover:shadow-md transition-shadow duration-150",children:[e.jsxs("div",{className:"flex justify-between flex-wrap items-center gap-2",children:[e.jsxs("div",{className:"left flex items-center gap-2",children:[e.jsx("h2",{className:"font-semibold",children:a.name})," ",e.jsx("p",{className:"w-24",children:e.jsx(T,{rating:a==null?void 0:a.rating})})]}),e.jsx("div",{className:"right",children:e.jsx("p",{children:new Date(a==null?void 0:a.createdAt).toLocaleDateString()})})]}),e.jsxs("div",{className:"mt-1 flex justify-between flex-wrap items-center gap-2",children:[e.jsx("p",{className:"my-1",children:a==null?void 0:a.review}),e.jsx("div",{className:"edit flex items-center  gap-3",children:D===a.userID?e.jsxs(e.Fragment,{children:[e.jsx(_e,{asChild:!0,children:e.jsx(S,{className:"bg-transparent hover:bg-transparent px-0",children:e.jsx(he,{onClick:()=>Z(a==null?void 0:a.id),size:20,className:"text-gray-800"})})}),e.jsx(je,{onClick:()=>re(a==null?void 0:a.id),className:"cursor-pointer",size:20})]}):null})]})]},n))})]}),e.jsxs("div",{className:"mt-10",children:[e.jsx("p",{className:"mb-1 ml-1 text-gray-700 font-medium",children:"Your Review *"}),e.jsx("textarea",{id:"OrderNotes",className:"w-full resize-y border border-gray-800 rounded-xl align-top focus:ring-0 focus:outline-none focus:border-gray-800 sm:text-sm p-4",rows:4,placeholder:"Write a review...",value:f.review,onChange:a=>$(n=>({...n,review:a.target.value}))}),e.jsxs("div",{className:"mt-4 mb-2 flex items-center justify-start gap-1",children:[e.jsx("p",{className:"mr-1 text-gray-700 font-medium text-sm",children:"Give your rating:"}),[1,2,3,4,5].map(a=>e.jsx(C,{style:{color:a<=f.rating?"#FFC107":"#D1D5DB",cursor:"pointer"},onClick:()=>ae(a)},a))]}),e.jsx("button",{className:"mt-1 text-white py-2 px-4 hover:bg-black bg-[#252525]",onClick:te,children:"Submit Review"})]})]})})})]})})})}),e.jsxs(Y,{className:"sm:max-w-[625px] px-3 sm:px-5",children:[e.jsx(X,{children:e.jsx(G,{children:"Update Your Review"})}),e.jsx("div",{className:"",children:e.jsxs("div",{className:"items-center",children:[e.jsx(K,{htmlFor:"name",className:"text-right",children:"Your Review:"}),e.jsx("textarea",{className:"mt-3 border px-3 py-2.5 rounded-lg border-gray-500 focus:border-gray-800 w-full focus:outline-none",rows:3,placeholder:"Type your message here.",value:m.review,onChange:ie}),e.jsxs("div",{className:"mt-4 mb-2 flex items-center justify-start gap-1",children:[e.jsx("p",{className:"mr-1 text-gray-700 font-medium text-sm",children:"Rating:"}),[1,2,3,4,5].map(a=>e.jsx(C,{style:{color:a<=m.rating?"#FFC107":"#D1D5DB",cursor:"pointer"},onClick:()=>se(a)},a))]})]})}),e.jsx(q,{children:e.jsx(Le,{asChild:!0,children:e.jsx(S,{onClick:()=>le(o,m.rating),type:"submit",children:"Save changes"})})})]})]})})},We=()=>{const{id:s}=we(),l=H(),t=j(o=>o.products.singleProduct),r=j(o=>o.products.singleProductloading);console.log("singleProductloading",r),i.useEffect(()=>{l(ue(s))},[s]);const c=()=>{window.scrollTo({top:470,behavior:"smooth"})};return e.jsx(e.Fragment,{children:r?e.jsx(Ne,{}):e.jsxs(e.Fragment,{children:[e.jsxs("section",{className:"selectedSectionbg relative",children:[e.jsx("div",{className:"px-5 md:px-7 xl:px-0 max-w-5xl xl:max-w-6xl xxl:max-w-7xl mx-auto",children:e.jsxs("div",{className:"pt-24 lg:pt-10 grid place grid-cols-1 gap-4 lg:grid-cols-2 lg:gap-8 min-h-[65vh]",children:[e.jsx("div",{className:"flex items-end lg:items-center justify-center lg:justify-start",children:e.jsxs("div",{className:"content text-center lg:text-start",children:[e.jsx("span",{style:{letterSpacing:"4px"},className:"py-1 px-1.5 font-medium text-black bg-[#DEC344] text-[11px] lg:text-[13px]",children:"SHOP"}),e.jsx("h2",{className:"Noto mt-4 mb-6 text-4xl md:text-5xl font-medium text-white tracking-normal",children:"Product Details"})]})}),e.jsx("div",{className:"-mt-10 lg:mt-0 flex items-start lg:items-center justify-center lg:justify-end",children:e.jsxs("h2",{className:"mt-6 flex items-center gap-2 text-left font-normal text-white text-md md:text-lg",children:[e.jsxs(L,{to:"/",className:"flex items-center gap-1 hover:underline hover:underline-offset-4",children:[e.jsx(ye,{}),"Home"]})," ",e.jsx(P,{}),e.jsx(L,{to:"/shop",className:"flex items-center gap-1 hover:underline hover:underline-offset-4",children:"Shop"})," ",e.jsx(P,{})," SingleProduct"]})})]})}),e.jsx("div",{className:"arrow absolute bottom-4 left-1/2 transform -translate-x-1/2 animate-bounce",children:e.jsx("button",{onClick:c,children:e.jsx(Re,{size:30,className:"text-gray-50 font-semibold cursor-pointer"})})})]}),e.jsx(Be,{product:t,id:s}),e.jsx($e,{})]})})};export{We as default};
